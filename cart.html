<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>سلة - مســايا</title>
  <style>
    body{font-family:'Cairo',sans-serif;background:#fff7f9;color:#333;margin:0;padding:20px;}
    header{background:#ffe4ec;padding:15px;text-align:center;color:#b03a5b;font-size:22px;font-weight:bold;}
    .container{max-width:700px;margin:20px auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,0.1);}
    .item{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #eee;padding:10px 0;}
    .item img{width:60px;border-radius:6px;margin-left:10px;}
    .item-info{flex:1;text-align:right;}
    .item-info h3{margin:0;color:#b03a5b;font-size:18px;}
    .item-info p{font-size:14px;color:#555;}
    .remove{background:none;border:none;color:crimson;cursor:pointer;font-size:14px;}
    .total{text-align:center;font-size:20px;margin:20px 0;color:#444;}
    .btn-checkout{width:100%;background:#b03a5b;color:#fff;padding:14px;font-size:18px;border:none;border-radius:8px;cursor:pointer;transition:background .3s;}
    .btn-checkout:hover{background:#902f4c;}
    .empty{text-align:center;font-size:18px;color:#777;margin-top:40px;}
  </style>
</head>
<body>
  <header>السلة</header>
  <div class="container" id="cart"></div>
  <script>
    const cartEl=document.getElementById('cart');
    let cart=JSON.parse(localStorage.getItem('masayaCart')||'[]');
    function render(){
      cartEl.innerHTML='';
      if(cart.length===0){cartEl.innerHTML='<p class="empty">السلة فارغة حالياً.</p>';return;}
      let total=0;
      cart.forEach((it,idx)=>{
        total+=it.price*(it.quantity||1);
        const div=document.createElement('div');div.className='item';
        div.innerHTML=`
          <img src="${it.image}" alt="${it.name}">
          <div class="item-info">
            <h3>${it.name}</h3>
            <p>الكمية: ${it.quantity||1} - السعر: ₪${(it.price*(it.quantity||1)).toFixed(2)}</p>
          </div>
          <button class="remove" onclick="removeItem(${idx})">🗑 حذف</button>`;
        cartEl.appendChild(div);
      });
      const tot=document.createElement('div');tot.className='total';tot.textContent=`الإجمالي: ₪${total.toFixed(2)}`;cartEl.appendChild(tot);
      const btn=document.createElement('button');btn.className='btn-checkout';btn.textContent='إتمام الطلب';btn.onclick=()=>location.href='checkout.html';cartEl.appendChild(btn);
    }
    function removeItem(i){cart.splice(i,1);localStorage.setItem('masayaCart',JSON.stringify(cart));render();}
    render();
  </script>
</body>
</html>